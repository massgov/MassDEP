{"version":3,"sources":["App.js","serviceWorker.js","index.js","../ /.svg$"],"names":["App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","directory","options","tbl_results","filters","location","text","value","selection","filterOptions","handleInputTextTypeAheadOnChange","bind","assertThisInitialized","handleSelectBoxChange","opts","forEach","item","push","fname","lname","id","setState","that","fetch","headers","Accept","method","then","response","json","configureTypeAheadComponent","e","displayItems","suggestion","formatForTableDisplay","selected","selectedValue","locations","i","length","items","data","rowOne","getTableRow","label","rowTwo","locationText","getLocationText","rowThree","formatPhoneNumber","phone1","rowFour","phone2","rowFive","email","react_default","a","createElement","es","color","stackLabel","onChangeCallback","placeholder","onChange","rows","strPhone","slice","Component","Boolean","window","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister","map","./arrow.svg","./arrowbent.svg","./building.svg","./chevron.svg","./circlechevron.svg","./docx.svg","./fax.svg","./generic.svg","./inputerror.svg","./inputsuccess.svg","./laptop.svg","./latlonglobe.svg","./login.svg","./marker.svg","./opennow.svg","./pdf.svg","./phone.svg","./questionmark.svg","./search.svg","./wheelchair.svg","./xlxs.svg","webpackContext","req","webpackContextResolve","__webpack_require__","Error","code","keys","resolve","module","exports"],"mappings":"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","file":"static/js/main.7acda30e.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { ColoredHeading } from '@massds/mayflower-react';\nimport { InputTextTypeAhead } from '@massds/mayflower-react';\nimport { SelectBox } from '@massds/mayflower-react';\nimport { ListingTable } from '@massds/mayflower-react';\nimport './App.css';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      directory: [],\n      options: [],\n      tbl_results: [],\n      filters: {\n        location: {\n          text: \"\",\n          value: \"\"\n        },\n        selection: {\n          text: \"\",\n          value: \"\"\n        }\n      },\n      filterOptions: [\n        {text:\"All Locations\", value:\"ALL\"},\n        {text:\"Boston/HQ\", value:\"HQ\"},\n        {text:\"Western Regional Office\", value:\"WERO\"},\n        {text:\"Central Regional Office\", value:\"CERO\"},\n        {text:\"Northeast Regional Office\", value:\"NERO\"},\n        {text:\"Southeast Regional Office\", value:\"SERO\"},\n        {text:\"Wall Experiment Station\", value:\"WES\"}\n      ]\n    };\n    this.handleInputTextTypeAheadOnChange = this.handleInputTextTypeAheadOnChange.bind(this);\n    this.handleSelectBoxChange = this.handleSelectBoxChange.bind(this);\n  }\n\n  configureTypeAheadComponent(){\n    let options = this.state.directory;\n    let filters = this.state.filters;\n    let opts = [];\n    options.forEach(function(item){\n      if (filters.location.value === \"\" || filters.location.value === \"ALL\") {\n        opts.push({text:item.fname + \" \" + item.lname, value:item.id});\n      } else {\n        if (item.location === filters.location.value) {\n          opts.push({text:item.fname + \" \" + item.lname, value:item.id});\n        }\n      }\n    });\n    this.setState({options: opts})\n  }\n\n  componentDidMount () {\n    let that = this;\n    if(process.env.NODE_ENV === 'production'){\n      fetch('https://api.github.com/repos/massgov/MassDEP/contents/employee-lookup/public/data/directory.json', {\n        headers: {\n          \"Accept\": \"application/vnd.github.v3.raw\"\n        },\n        method: \"GET\"\n      }).then((response) =>\n        response.json()\n      ).then(function (json) {\n        that.setState({directory: json});\n        that.configureTypeAheadComponent();\n      });\n    }else if(process.env.NODE_ENV === 'development'){\n      fetch('./data/directory.json').then((response) =>\n        response.json()\n      ).then(function (json) {\n        that.setState({directory: json});\n        that.configureTypeAheadComponent();\n      });\n    }\n  }\n\n  handleInputTextTypeAheadOnChange(e, selection) {\n    let that = this;\n    let options = this.state.directory;\n    let displayItems = [];\n    let filters = this.state.filters;\n    options.forEach(function (item) {\n      if (item.id === selection.suggestion.value) {\n        filters.selection.text = item.fname + \" \" + item.lname;\n        filters.selection.value = item.id;\n        that.setState({filters: filters});\n        displayItems.push(item);\n      }\n    });\n    this.formatForTableDisplay(displayItems);\n  }\n\n  handleSelectBoxChange(e) {\n    let filters= this.state.filters;\n    filters.location.text = e.selected;\n    filters.location.value = e.selectedValue;\n    filters.selection.text = \"\";\n    filters.selection.value = \"\";\n    this.setState({filters: filters});\n    this.configureTypeAheadComponent();\n  }\n\n  static getTableRow() {\n    return {label: null, items: []};\n  }\n  static formatPhoneNumber(strPhone) {\n    return strPhone ? \"(\" + strPhone.slice(0,3) + \") \" + strPhone.slice(3,6) + \"-\" + strPhone.slice(6) : \"\";\n  }\n\n  getLocationText(value) {\n    let locations = this.state.filterOptions;\n    for (let i=0; i<locations.length; i++) {\n      if (locations[i].value === value) {\n        return locations[i].text;\n      }\n    }\n  }\n\n  formatForTableDisplay(items) {\n    let that = this;\n    let data = [];\n    items.forEach(function(item){\n      let rowOne = App.getTableRow();\n      rowOne.label = \"Name: \";\n      rowOne.items.push(item.fname + \" \" + item.lname);\n\n      let rowTwo = App.getTableRow();\n      rowTwo.label = \"Location: \";\n      let locationText = that.getLocationText(item.location);\n      rowTwo.items.push(locationText);\n\n      let rowThree = App.getTableRow();\n      rowThree.label = \"Phone 1: \";\n      rowThree.items.push(App.formatPhoneNumber(item.phone1));\n\n      let rowFour = App.getTableRow();\n      rowFour.label = \"Phone 2: \";\n      rowFour.items.push(App.formatPhoneNumber(item.phone2));\n\n      let rowFive = App.getTableRow();\n      rowFive.label = \"Email: \";\n      rowFive.items.push(item.email);\n\n      data.push(rowOne, rowTwo, rowThree, rowFour, rowFive);\n    });\n    this.setState({tbl_results: data});\n  }\n\n  render() {\n    return (\n      <section>\n        <div>\n        <ColoredHeading\n          text=\"MassDEP Employee Directory\"\n          color=\"blue\"\n        />\n        </div>\n        <div id=\"input-wrapper\">\n          <div id=\"input-select-box\">\n            <SelectBox\n              label=\"\"\n              stackLabel={false}\n              id=\"select-location\"\n              selected={this.state.filters.location.text}\n              options={this.state.filterOptions}\n              onChangeCallback={this.handleSelectBoxChange}\n            />\n          </div>\n          <div id=\"input-text-type-ahead\">\n            <InputTextTypeAhead\n              label=\"\"\n              placeholder=\"Employee Name\"\n              id=\"employee-typeahead\"\n              selected={this.state.filters.selection.text}\n              options={this.state.options}\n              onChange={this.handleInputTextTypeAheadOnChange}\n            />\n          </div>\n        </div>\n        <div id=\"results-listing-table\">\n          <ListingTable\n            rows={this.state.tbl_results}\n          />\n        </div>\n      </section>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","var map = {\n\t\"./arrow.svg\": 66,\n\t\"./arrowbent.svg\": 67,\n\t\"./building.svg\": 68,\n\t\"./chevron.svg\": 69,\n\t\"./circlechevron.svg\": 70,\n\t\"./docx.svg\": 71,\n\t\"./fax.svg\": 72,\n\t\"./generic.svg\": 73,\n\t\"./inputerror.svg\": 74,\n\t\"./inputsuccess.svg\": 75,\n\t\"./laptop.svg\": 76,\n\t\"./latlonglobe.svg\": 77,\n\t\"./login.svg\": 78,\n\t\"./marker.svg\": 79,\n\t\"./opennow.svg\": 80,\n\t\"./pdf.svg\": 81,\n\t\"./phone.svg\": 82,\n\t\"./questionmark.svg\": 83,\n\t\"./search.svg\": 84,\n\t\"./wheelchair.svg\": 85,\n\t\"./xlxs.svg\": 86\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 65;"],"sourceRoot":""}